//Author: Maciej Dowbor
//Module: MED5148
//Date last accessed: 28/10/2020

#ifndef TEXT_H
#define TEXT_H

#include "Alignment.h"
#include "Helpers.h"
#include "Settings.h"
#include "Vector2.h"

#include <string>

//=============================================================
// Class Name   : Text
//-------------------------------------------------------------
// Purpose      : Hold and manipulate text as string
//-------------------------------------------------------------
// Used in      : DefeatScreen.cpp
//				  DefeatScreen.h
//				  Game.cpp
//				  Game.h
//				  HighScoreTable.cpp
//				  HighScoreTable.h
//				  Menu.cpp
//				  Menu.h
//				  MenuOption.cpp
//				  MenuOption.h
//				  Text.cpp
//=============================================================
class Text
{
private:

	int m_posX; //x coordinate
	int m_posY; //y coordinate
	int m_length; //text length
	int m_boardMiddle = ( g_borderSizeX / 2 ) + g_borderOriginX; //Board center

	std::string m_text; //Text 
	Vector2 m_position; //Text position
	
	Alignment m_alignment; //Text alignment
	
	//========================================================
	// Function Name	: updateTextLength()
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Updates texts length
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void updateTextLength();

protected:
	int m_textAttribute = 15; //Text color


public:
	//========================================================
	// Function Name	: Text()
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Default text constructor
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	Text();

	//========================================================
	// Function Name	: Text()
	//--------------------------------------------------------
	// Parameters		: Text to display
	//					  Text alignment
	//					  Text y coordinate
	//--------------------------------------------------------
	// Purpose			: Text constructor
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	Text(std::string text, Alignment alignment, int posY);

	//========================================================
	// Function Name	: ~Text()
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Text destructor
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	~Text();
	
	//========================================================
	// Function Name	: set()
	//--------------------------------------------------------
	// Parameters		: Text to display
	//					  Text alignment
	//					  Text y coordinate
	//					  Text color
	//--------------------------------------------------------
	// Purpose			: Default CharObject constructor
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void set( std::string text, Alignment alignment, int posY, int textAttribute );

	//========================================================
	// Function Name	: alignText()
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Aligns text
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void alignText();

	//========================================================
	// Function Name	: draw()
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Draws text on the screen
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void draw();

	//========================================================
	// Function Name	: updateText()
	//--------------------------------------------------------
	// Parameters		: Integer to add to text
	//--------------------------------------------------------
	// Purpose			: Updates text using integers
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void updateText( int value );

	//========================================================
	// Function Name	: updateText()
	//--------------------------------------------------------
	// Parameters		: Text to add to current text
	//--------------------------------------------------------
	// Purpose			: Add text to current text
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void updateText( std::string text );

	//========================================================
	// Function Name	: deleteText
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Deletes and erases text
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void deleteText();

	//========================================================
	// Function Name	: deleteLastChar()
	//--------------------------------------------------------
	// Parameters		: Characters to delete
	//--------------------------------------------------------
	// Purpose			: Deletes given number of characters
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void deleteLastChar( int charsToDelete );

	//========================================================
	// Function Name	: setTextAttribute()
	//--------------------------------------------------------
	// Parameters		: Text color
	//--------------------------------------------------------
	// Purpose			: Changes text color
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void setTextAttribute( int textAttribute );

	//========================================================
	// Function Name	: setPositionY
	//--------------------------------------------------------
	// Parameters		: Y coordinate
	//--------------------------------------------------------
	// Purpose			: Set y coordinate of text
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void setPositionY( int value );

	//========================================================
	// Function Name	: clearText()
	//--------------------------------------------------------
	// Parameters		: -
	//--------------------------------------------------------
	// Purpose			: Deletes text but doesn't erase it
	//--------------------------------------------------------
	// Returns			: -
	//========================================================
	void clearText();

};
#endif // !TEXT_H

