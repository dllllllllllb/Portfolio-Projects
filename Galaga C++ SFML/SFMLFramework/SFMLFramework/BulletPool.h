//Author: Maciej Dowbor
//Module: MED5149
//Date last accessed: 20/01/2021

#ifndef BULLETPOOL_H
#define BULLETPOOL_H

#include <SFML/Graphics/Texture.hpp>
#include <SFML/Audio.hpp>

#include "Bullet.h"
#include "Textures.h"
#include "Settings.h"

//=====================================================================================================	
//Class		: BulletPool
//-----------------------------------------------------------------------------------------------------
//Purpose	: A pool of initialized bullets to not create new bullets during run time
//=====================================================================================================
class BulletPool
{
private:

	Bullet			*m_pBullets;

	//Sound
	sf::SoundBuffer *m_pBuffer;
	sf::Sound		*m_pShootSound;

public:

	BulletPool( const sf::Texture &texture, const int &numOfBullets );
	//=================================================================================================						
	//Purpose	: Constructor
	//-------------------------------------------------------------------------------------------------
	//Parameters: Cullet texture, size of the bullet pool
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	~BulletPool( );
	//=================================================================================================						
	//Purpose	: Destructor
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	Bullet *getBullet( const int &index );
	//=================================================================================================						
	//Purpose	: Return pointer to a bullet
	//-------------------------------------------------------------------------------------------------
	//Parameters: Bullet index
	//-------------------------------------------------------------------------------------------------
	//Returns	: Pointer to a bullet
	//=================================================================================================

	void playSound( );
	//=================================================================================================						
	//Purpose	: Play sound effect when a bullet is shot
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================
};

#endif // !BULLETPOOL_H
