//Author: Maciej Dowbor
//Module: MED5149
//Date last accessed: 20/01/2021

#ifndef GAME_H
#define GAME_H

#include <SFML/System/Clock.hpp>
#include <SFML/System/Time.hpp>
#include <SFML/Window.hpp>

#include "Enemy.h"
#include "EnemyDropHandler.h"
#include "EnemyHandler.h"
#include "HighScoreTable.h"
#include "Player.h"
#include "Shop.h"
#include "Textures.h"
#include "UserInterface.h"
#include "WaveHandler.h"

//=====================================================================================================	
//Class		: Game
//-----------------------------------------------------------------------------------------------------
//Purpose	: Call all functions necessary for gameplay
//=====================================================================================================
class Game
{
private:
	//Window
	sf::RenderWindow &m_window;

	//Textures
	Textures &m_textures;

	//UI
	UserInterface m_userInterface;

	//Enemy Drop Handler
	EnemyDropHandler m_enemyDropHandler;

	//Player
	Player m_player;

	//Wave Handler
	WaveHandler m_waveHandler;

	//Enemy
	EnemyHandler m_enemyHandler;

	//Shop
	Shop m_shop;

public:
	Game( sf::RenderWindow &window, Textures *textures, HighScoreTable *highScoreTable );
	//=================================================================================================
	//Purpose	: Constructor
	//-------------------------------------------------------------------------------------------------
	//Parameters: Render window reference, textures and high score table pointers
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	~Game( );
	//=================================================================================================
	//Purpose	: Destructor
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void initialize( );
	//=================================================================================================
	//Purpose	: Initializes class
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void update( const float &deltaTime );
	//=================================================================================================
	//Purpose	: Updates contents of this class
	//-------------------------------------------------------------------------------------------------
	//Parameters: Time passed since last frame
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void render( );
	//=================================================================================================
	//Purpose	: Renders contents of this class
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================
};

#endif // !GAME_H
