//Author: Maciej Dowbor
//Module: MED5149
//Date last accessed: 20/01/2021

#ifndef USERINTERFACE_H
#define USERINTERFACE_H

#include <SFML/Graphics/Text.hpp>
#include <SFML\Graphics\RenderWindow.hpp>
#include <string>

#include "Helpers.h"
#include "HighScoreTable.h"
#include "UserInterfaceValuesEnum.h"

//=====================================================================================================	
//Class		: User interfase
//-----------------------------------------------------------------------------------------------------
//Purpose	: Display variables and game events on the screen
//=====================================================================================================	
class UserInterface
{
private:
	sf::RenderWindow	&m_window;
	HighScoreTable		*m_pHighScoreTable;

	sf::Font			m_font;
	sf::Text			m_health;

	sf::Text			m_shield;
	sf::Text			m_credits;
	sf::Text			m_wave;
	sf::Text			m_score;
	int					m_playerScore;

	bool				m_isDefeat;
	sf::Text			m_defeat;
	sf::Text			m_finalScore;
	sf::Text			m_Instructions;

	bool				m_isVictory;
	sf::Text			m_victory;

public:
	UserInterface( sf::RenderWindow &window, HighScoreTable *highScoreTable );
	//=================================================================================================
	//Purpose	: Constructor
	//-------------------------------------------------------------------------------------------------
	//Parameters: Render window reference and high score table reference
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	~UserInterface( );
	//=================================================================================================
	//Purpose	: Destructor
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void drawUI( );
	//=================================================================================================
	//Purpose	: Draw UI on the screen
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void updateText( const UIVariable &variable, const int &value );
	//=================================================================================================
	//Purpose	: Update text
	//-------------------------------------------------------------------------------------------------
	//Parameters: Text variable, value 
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	UserInterface *getUserInterface( );
	//=================================================================================================
	//Purpose	: Return pointer to user interface
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: Pointer to user interface
	//=================================================================================================

	void toggleDefeat( );
	//=================================================================================================
	//Purpose	: Toggles defeat state
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void toggleVictory( );
	//=================================================================================================
	//Purpose	: Toggles defeat state
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================

	void reset( );
	//=================================================================================================
	//Purpose	: Resets all values to default
	//-------------------------------------------------------------------------------------------------
	//Parameters: -
	//-------------------------------------------------------------------------------------------------
	//Returns	: -
	//=================================================================================================
};

#endif // !USERINTERFACE_H
